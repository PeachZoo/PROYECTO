ERROR - 2024-08-29 00:41:26 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp\htdocs\personalizacionSis\system\Database\MySQLi\Connection.php:312
Stack trace:
#0 C:\xampp\htdocs\personalizacionSis\system\Database\MySQLi\Connection.php(312): mysqli->query('UPDATE `cliente...', 0)
#1 C:\xampp\htdocs\personalizacionSis\system\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente...')
#2 C:\xampp\htdocs\personalizacionSis\system\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente...')
#3 C:\xampp\htdocs\personalizacionSis\system\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente...', Array, false)
#4 C:\xampp\htdocs\personalizacionSis\app\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
#5 C:\xampp\htdocs\personalizacionSis\app\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', Array)
#6 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(933): App\Controllers\ClienteController->save()
#7 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
#8 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 C:\xampp\htdocs\personalizacionSis\system\Boot.php(325): CodeIgniter\CodeIgniter->run()
#10 C:\xampp\htdocs\personalizacionSis\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 C:\xampp\htdocs\personalizacionSis\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2024-08-29 00:41:26 --> CodeIgniter\Database\Exceptions\DatabaseException: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
[Method: POST, Route: guardarCliente]
in SYSTEMPATH\Database\BaseConnection.php on line 688.
 1 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 2 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 3 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 5 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 6 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2024-08-29 00:41:26 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
in SYSTEMPATH\Database\MySQLi\Connection.php on line 317.
 1 SYSTEMPATH\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 2 SYSTEMPATH\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 4 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 5 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 7 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 8 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2024-08-29 00:41:26 --> [Caused by] mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
in SYSTEMPATH\Database\MySQLi\Connection.php on line 312.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(312): mysqli->query('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 3 SYSTEMPATH\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 5 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 6 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 8 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 9 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
ERROR - 2024-08-29 00:42:58 --> mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE) in C:\xampp\htdocs\personalizacionSis\system\Database\MySQLi\Connection.php:312
Stack trace:
#0 C:\xampp\htdocs\personalizacionSis\system\Database\MySQLi\Connection.php(312): mysqli->query('UPDATE `cliente...', 0)
#1 C:\xampp\htdocs\personalizacionSis\system\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente...')
#2 C:\xampp\htdocs\personalizacionSis\system\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente...')
#3 C:\xampp\htdocs\personalizacionSis\system\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente...', Array, false)
#4 C:\xampp\htdocs\personalizacionSis\app\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
#5 C:\xampp\htdocs\personalizacionSis\app\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', Array)
#6 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(933): App\Controllers\ClienteController->save()
#7 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
#8 C:\xampp\htdocs\personalizacionSis\system\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#9 C:\xampp\htdocs\personalizacionSis\system\Boot.php(325): CodeIgniter\CodeIgniter->run()
#10 C:\xampp\htdocs\personalizacionSis\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#11 C:\xampp\htdocs\personalizacionSis\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#12 {main}
CRITICAL - 2024-08-29 00:42:58 --> CodeIgniter\Database\Exceptions\DatabaseException: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
[Method: POST, Route: guardarCliente]
in SYSTEMPATH\Database\BaseConnection.php on line 688.
 1 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 2 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 3 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 4 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 5 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 6 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 7 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
 8 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 9 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2024-08-29 00:42:58 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
in SYSTEMPATH\Database\MySQLi\Connection.php on line 317.
 1 SYSTEMPATH\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'2024-09-07\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 2 SYSTEMPATH\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'2024-09-07\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 4 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 5 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 7 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 8 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
CRITICAL - 2024-08-29 00:42:58 --> [Caused by] mysqli_sql_exception: Cannot add or update a child row: a foreign key constraint fails (`personalizar`.`cliente`, CONSTRAINT `figura_fk` FOREIGN KEY (`tipo_figura`) REFERENCES `figura` (`id_figura`) ON DELETE CASCADE ON UPDATE CASCADE)
in SYSTEMPATH\Database\MySQLi\Connection.php on line 312.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(312): mysqli->query('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'2024-09-07\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(734): CodeIgniter\Database\MySQLi\Connection->execute('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'2024-09-07\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 3 SYSTEMPATH\Database\BaseConnection.php(648): CodeIgniter\Database\BaseConnection->simpleQuery('UPDATE `cliente` SET `nombre_cliente` = \'Juana Ines\', `apellido_cliente` = \'Beltran De Los Palotes\', `telefono` = \'04121090185\', `email` = \'yosoyproferika@gmail.com\', `status` = \'2\', `usuario` = \'erikab644@gmail.com\', `texto` = \'Feliz Cumpleaños\', `numero` = \'4\', `tipo_producto` = \'3\', `tipo_figura` = NULL, `entrega` = \'2024-09-07\', `updated_at` = \'2024-08-29\'
WHERE `id_cliente` = \'2\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(2516): CodeIgniter\Database\BaseConnection->query('UPDATE `cliente` SET `nombre_cliente` = :nombre_cliente:, `apellido_cliente` = :apellido_cliente:, `telefono` = :telefono:, `email` = :email:, `status` = :status:, `usuario` = :usuario:, `texto` = :texto:, `numero` = :numero:, `tipo_producto` = :tipo_producto:, `tipo_figura` = :tipo_figura:, `entrega` = :entrega:, `updated_at` = :updated_at:
WHERE `id_cliente` = :id_cliente:', [...], false)
 5 APPPATH\Models\ClienteModel.php(43): CodeIgniter\Database\BaseBuilder->update()
 6 APPPATH\Controllers\ClienteController.php(83): App\Models\ClienteModel->modificar('2', [...])
 7 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\ClienteController->save()
 8 SYSTEMPATH\CodeIgniter.php(509): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\ClienteController))
 9 SYSTEMPATH\CodeIgniter.php(355): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
10 SYSTEMPATH\Boot.php(325): CodeIgniter\CodeIgniter->run()
11 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
12 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
